"use strict";function getNewPlayer(e){var t=this;this.data.players.filter(function(a){a.player.id===parseInt(e)&&(console.log(t,a.player.id,e),t.currentPlayer=a,console.log(t),t.findStatHolders=t.componentDiv.querySelectorAll("section.playerStat"),t.attributes={},t.currentPlayer.stats.forEach(function(e){t.attributes[e.name.toLowerCase()]=e.value}),t.attributes.goalsPerMatch=parseInt(t.attributes.goals/t.attributes.appearances*100)/100,t.attributes.passesPerMinute=parseInt((t.attributes.fwd_pass+t.attributes.backward_pass)/t.attributes.mins_played*100)/100,t.selectedAttributes=["appearances","goals","goal_assist","goalsPerMatch","passesPerMinute"],t.findStatHolders.forEach(function(e,a){e.querySelectorAll(".statValue")[0].innerHTML=t.attributes[t.selectedAttributes[a]]||0}),t.componentDiv.querySelectorAll("h1")[0].innerHTML=t.currentPlayer.player.name.first+" "+t.currentPlayer.player.name.last,t.componentDiv.querySelectorAll("h2")[0].innerHTML=t.currentPlayer.player.info.position,t.componentDiv.querySelectorAll("img")[0].src="/images/players/p"+t.currentPlayer.player.id+".png",t.componentDiv.querySelectorAll("img")[0].alt=t.currentPlayer.player.name.first+" "+t.currentPlayer.player.name.last,t.componentDiv.querySelectorAll("img")[1].src="/images/teams/t"+t.currentPlayer.player.currentTeam.id+".png",t.componentDiv.querySelectorAll("img")[1].alt=t.currentPlayer.player.currentTeam.name)})}function initPlayerStats(e,t){var a=this;this.playerStats.componentDiv=document.getElementById(t),$.getJSON("/data/player-stats.json").done(function(r){if(a.playerStats.data=r,void 0===a.playerStats.currentPlayer){var n=document.getElementById(t).querySelectorAll("select.playerSelector")[0];n.addEventListener("change",function(e){a.playerStats.getNewPlayer(e.target.value,t)}),a.playerStats.getNewPlayer(e,t),console.log(a);var l="";r.players.forEach(function(e){l+='<option value="'+e.player.id+'">'+e.player.name.first+" "+e.player.name.last+"</option>"}),n.innerHTML=l}}).fail(function(e,t,a){var r=t+","+a;console.log("Request Failed: "+r)})}var components={initPlayerStats:initPlayerStats,playerStats:{data:{},getNewPlayer:getNewPlayer}};document.addEventListener("DOMContentLoaded",function(){components.initPlayerStats(4916,"stats1")});
//# sourceMappingURL=playerStats.js.map
