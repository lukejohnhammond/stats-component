"use strict";function getNewPlayer(e,a){var t=this[a],r=t.componentDiv,n=t.data[e];t.findStatHolders=r.querySelectorAll("section.playerStat"),t.selectedAttr=["appearances","goals","goal_assist","goalsPerMatch","passesPerMinute"],t.findStatHolders.forEach(function(e,a){e.querySelectorAll(".statValue")[0].innerHTML=n[t.selectedAttr[a]]||0}),r.querySelectorAll("h1")[0].innerHTML=n.name,r.querySelectorAll("h2")[0].innerHTML=n.position,r.querySelectorAll("img")[0].src=n.playerImage,r.querySelectorAll("img")[0].alt=n.name,r.querySelectorAll("img")[1].src=n.teamImage,r.querySelectorAll("img")[1].alt=n.teamName}function checkPosition(e){switch(e){case"D":return"Defence";case"M":return"Midfield";case"F":return"Forward"}}function initPlayerStats(e,a){var t=this;this[a]={componentDiv:document.getElementById(a)};var r=this[a],n=r.componentDiv;$.getJSON("/data/player-stats.json").done(function(e){var l="",s=0;r.data={},e.players.forEach(function(e){0===s&&(s=e.player.id),r.data[e.player.id]={name:e.player.name.first+" "+e.player.name.last,position:t.checkPosition(e.player.info.position),playerImage:"/images/players/p"+e.player.id+".png",teamImage:"/images/teams/t"+e.player.currentTeam.id+".png",teamName:e.player.currentTeam.name};var a=r.data[e.player.id];e.stats.forEach(function(e){a[e.name.toLowerCase()]=e.value}),a.goalsPerMatch=parseInt(a.goals/a.appearances*100)/100,a.passesPerMinute=parseInt((a.fwd_pass+a.backward_pass)/a.mins_played*100)/100,l+='<option value="'+e.player.id+'">'+e.player.name.first+" "+e.player.name.last+"</option>"});var i=n.querySelectorAll("select.playerSelector")[0];i.addEventListener("change",function(e){t.getNewPlayer(e.target.value,a)}),i.innerHTML=l,t.getNewPlayer(s,a)}).fail(function(e,a,t){var r=a+","+t;console.log("Request Failed: "+r)})}var components={playerStats:{initPlayerStats:initPlayerStats,getNewPlayer:getNewPlayer,checkPosition:checkPosition}};document.addEventListener("DOMContentLoaded",function(){components.playerStats.initPlayerStats(4916,"stats1")});
//# sourceMappingURL=playerStats.js.map
