"use strict";function getNewPlayer(e,a){var t=this[a],r=t.componentDiv,l=t.data[e];t.findStatHolders=r.querySelectorAll("section.playerStat"),t.selectedAttr=["appearances","goals","goal_assist","goalsPerMatch","passesPerMinute"],console.log(t.findStatHolders);for(var n=0;n<t.findStatHolders.length;n++){var s=t.findStatHolders[n];s.querySelectorAll(".statValue")[0].innerHTML=l[t.selectedAttr[n]]||0}r.querySelectorAll("h1")[0].innerHTML=l.name,r.querySelectorAll("h2")[0].innerHTML=l.position,r.querySelectorAll("img")[0].src=l.playerImage,r.querySelectorAll("img")[0].alt=l.name,r.querySelectorAll("img")[1].src=l.teamImage,r.querySelectorAll("img")[1].alt=l.teamName}function checkPosition(e){switch(e){case"D":return"Defender";case"M":return"Midfielder";case"F":return"Forward"}}function initPlayerStats(e,a){var t=this;this[a]={componentDiv:document.getElementById(a)};var r=this[a],l=r.componentDiv;$.getJSON("/data/player-stats.json").done(function(e){var n="",s=0;r.data={};for(var o=0;o<e.players.length;o++){var i=e.players[o];0===s&&(s=i.player.id),r.data[i.player.id]={name:i.player.name.first+" "+i.player.name.last,position:t.checkPosition(i.player.info.position),playerImage:"/images/players/p"+i.player.id+".png",teamImage:"/images/teams/t"+i.player.currentTeam.id+".png",teamName:i.player.currentTeam.name};for(var c=r.data[i.player.id],p=0;p<i.stats.length;p++){var y=i.stats[p];c[y.name.toLowerCase()]=y.value}c.goalsPerMatch=parseInt(c.goals/c.appearances*100)/100,c.passesPerMinute=parseInt((c.fwd_pass+c.backward_pass)/c.mins_played*100)/100,n+='<option value="'+i.player.id+'">'+i.player.name.first+" "+i.player.name.last+"</option>"}var d=l.querySelectorAll("select.playerSelector")[0];d.addEventListener("change",function(e){0!==parseInt(e.target.value)&&t.getNewPlayer(e.target.value,a)}),d.innerHTML='<option value="0">Select a player...</option>'+n,t.getNewPlayer(s,a)}).fail(function(e,a,t){var r=a+","+t;console.log("Request Failed: "+r)})}var components={playerStats:{initPlayerStats:initPlayerStats,getNewPlayer:getNewPlayer,checkPosition:checkPosition}};document.addEventListener("DOMContentLoaded",function(){components.playerStats.initPlayerStats(4916,"stats1")});
//# sourceMappingURL=playerStats.js.map
