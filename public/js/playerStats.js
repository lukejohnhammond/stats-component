"use strict";function getNewPlayer(e){var t=this;this.findStatHolders=this.componentDiv.querySelectorAll("section.playerStat"),this.selectedAttributes=["appearances","goals","goal_assist","goalsPerMatch","passesPerMinute"],this.findStatHolders.forEach(function(a,r){a.querySelectorAll(".statValue")[0].innerHTML=t.data[e][t.selectedAttributes[r]]||0}),this.componentDiv.querySelectorAll("h1")[0].innerHTML=this.data[e].name,this.componentDiv.querySelectorAll("h2")[0].innerHTML=this.data[e].position,this.componentDiv.querySelectorAll("img")[0].src=this.data[e].playerImage,this.componentDiv.querySelectorAll("img")[0].alt=this.data[e].name,this.componentDiv.querySelectorAll("img")[1].src=this.data[e].teamImage,this.componentDiv.querySelectorAll("img")[1].alt=this.data[e].teamName}function checkPosition(e){switch(e){case"D":return"Defence";case"M":return"Midfield";case"F":return"Forward"}}function initPlayerStats(e,t){var a=this;this.playerStats.componentDiv=document.getElementById(t),$.getJSON("/data/player-stats.json").done(function(e){var r="",s=0;if(a.playerStats.data={},e.players.forEach(function(e){0===s&&(s=e.player.id),a.playerStats.data[e.player.id]={name:e.player.name.first+" "+e.player.name.last,position:a.playerStats.checkPosition(e.player.info.position),playerImage:"/images/players/p"+e.player.id+".png",teamImage:"/images/teams/t"+e.player.currentTeam.id+".png",teamName:e.player.currentTeam.name},e.stats.forEach(function(t){a.playerStats.data[e.player.id][t.name.toLowerCase()]=t.value}),a.playerStats.data[e.player.id].goalsPerMatch=parseInt(a.playerStats.data[e.player.id].goals/a.playerStats.data[e.player.id].appearances*100)/100,a.playerStats.data[e.player.id].passesPerMinute=parseInt((a.playerStats.data[e.player.id].fwd_pass+a.playerStats.data[e.player.id].backward_pass)/a.playerStats.data[e.player.id].mins_played*100)/100,r+='<option value="'+e.player.id+'">'+e.player.name.first+" "+e.player.name.last+"</option>"}),void 0===a.playerStats.currentPlayer){var i=document.getElementById(t).querySelectorAll("select.playerSelector")[0];i.addEventListener("change",function(e){a.playerStats.getNewPlayer(e.target.value,t)}),a.playerStats.getNewPlayer(s,t),i.innerHTML=r}}).fail(function(e,t,a){var r=t+","+a;console.log("Request Failed: "+r)})}var components={initPlayerStats:initPlayerStats,playerStats:{data:{},getNewPlayer:getNewPlayer,checkPosition:checkPosition}};document.addEventListener("DOMContentLoaded",function(){components.initPlayerStats(4916,"stats1")});
//# sourceMappingURL=playerStats.js.map
