"use strict";function getNewPlayer(e,a){var t=this[a],r=t.componentDiv,n=t.data[e];t.findStatHolders=r.querySelectorAll("section.playerStat"),t.selectedAttr=["appearances","goals","goal_assist","goalsPerMatch","passesPerMinute"];for(var l=0;l<t.findStatHolders.length;l++){var s=t.findStatHolders[l];s.querySelectorAll(".statValue")[0].innerHTML=n[t.selectedAttr[l]]||0}r.querySelectorAll("h1")[0].innerHTML=n.name,r.querySelectorAll("h2")[0].innerHTML=n.position,r.querySelectorAll("img")[0].src=n.playerImage,r.querySelectorAll("img")[0].alt=n.name,r.querySelectorAll("img")[1].src=n.teamImage,r.querySelectorAll("img")[1].alt=n.teamName}function checkPosition(e){switch(e){case"D":return"Defender";case"M":return"Midfielder";case"F":return"Forward"}}function initPlayerStats(e,a){var t=this;this[a]={componentDiv:document.getElementById(a)};var r=this[a],n=r.componentDiv;$.getJSON("/data/player-stats.json").done(function(e){var l="",s=0;r.data={};for(var i=0;i<e.players.length;i++){var o=e.players[i];0===s&&(s=o.player.id),r.data[o.player.id]={name:o.player.name.first+" "+o.player.name.last,position:t.checkPosition(o.player.info.position),playerImage:"/images/players/p"+o.player.id+".png",teamImage:"/images/teams/t"+o.player.currentTeam.id+".png",teamName:o.player.currentTeam.name};for(var c=r.data[o.player.id],p=0;p<o.stats.length;p++){var y=o.stats[p];c[y.name.toLowerCase()]=y.value}c.goalsPerMatch=parseInt(c.goals/c.appearances*100)/100,c.passesPerMinute=parseInt((c.fwd_pass+c.backward_pass)/c.mins_played*100)/100,l+='<option value="'+o.player.id+'">'+o.player.name.first+" "+o.player.name.last+"</option>"}var d=n.querySelectorAll("select.playerSelector")[0];d.addEventListener("change",function(e){0!==parseInt(e.target.value)&&t.getNewPlayer(e.target.value,a)}),d.innerHTML='<option value="0">Select a player...</option>'+l,t.getNewPlayer(s,a)}).fail(function(e,a,t){var r=a+","+t;console.log("Request Failed: "+r)})}var components={playerStats:{initPlayerStats:initPlayerStats,getNewPlayer:getNewPlayer,checkPosition:checkPosition}};document.addEventListener("DOMContentLoaded",function(){components.playerStats.initPlayerStats(4916,"stats1")});
//# sourceMappingURL=playerStats.js.map
